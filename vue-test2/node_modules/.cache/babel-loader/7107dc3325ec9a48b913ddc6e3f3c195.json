{"remainingRequest":"/home/livio/code/VueDemo/vue-test2/node_modules/babel-loader/lib/index.js!/home/livio/code/VueDemo/vue-test2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/livio/code/VueDemo/vue-test2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/livio/code/VueDemo/vue-test2/src/views/Explore.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/livio/code/VueDemo/vue-test2/src/views/Explore.vue","mtime":1579181214677},{"path":"/home/livio/code/VueDemo/vue-test2/node_modules/cache-loader/dist/cjs.js","mtime":1577176397029},{"path":"/home/livio/code/VueDemo/vue-test2/node_modules/babel-loader/lib/index.js","mtime":1577176396837},{"path":"/home/livio/code/VueDemo/vue-test2/node_modules/cache-loader/dist/cjs.js","mtime":1577176397029},{"path":"/home/livio/code/VueDemo/vue-test2/node_modules/vue-loader/lib/index.js","mtime":1577176410852}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9saXZpby9jb2RlL1Z1ZURlbW8vdnVlLXRlc3QyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCBTbGlkZWl0ZW0yIGZyb20gJ0AvY29tcG9uZW50cy9TbGlkZUl0ZW0yLnZ1ZScKaW1wb3J0IE1vdmllTGlzdCBmcm9tICdAL2NvbXBvbmVudHMvTW92aWVMaXN0LnZ1ZSc7CmltcG9ydCB7IGdldE5vd01vdmllQnlDb3VudCwgZ2V0VG9wMjUwQnlDb3VudCB9IGZyb20gJ0AvbmV0d29yay9yZXF1ZXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdleHBsb3JlJywKICBjb21wb25lbnRzOiB7CiAgICAvLyBTbGlkZWl0ZW0yLAogICAgTW92aWVMaXN0OiBNb3ZpZUxpc3QKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBub3dtb3ZpZWxpc3Q6IFtdLAogICAgICBjdXJyZW50aW5kZXg6IDAsCiAgICAgIC8vIDA6IG5vdywgMTogdG9wCiAgICAgIHRvcDI1MG1vdmllbGlzdDogW10sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBub3dzdGFydDogMCwKICAgICAgdG9wMjUwc3RhcnQ6IDAsCiAgICAgIGNvdW50OiAyMCwKICAgICAgZGF0YTJ0b3A6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZGF0YTJub3dkYXRhOiBmdW5jdGlvbiBkYXRhMm5vd2RhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmN1cnJlbnRpbmRleCA9IDA7CiAgICAgIHRoaXMuJHJlZnMuc2hvd25vdy5jbGFzc05hbWUgPSAnc2VsZWN0ZWQnOwogICAgICB0aGlzLiRyZWZzLnNob3d0b3AuY2xhc3NOYW1lID0gJ3RlbXAnOwogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmRhdGEydG9wID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGRhdGEydG9wZGF0YTogZnVuY3Rpb24gZGF0YTJ0b3BkYXRhKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuY3VycmVudGluZGV4ID0gMTsKICAgICAgdGhpcy4kcmVmcy5zaG93bm93LmNsYXNzTmFtZSA9ICd0ZW1wJzsKICAgICAgdGhpcy4kcmVmcy5zaG93dG9wLmNsYXNzTmFtZSA9ICdzZWxlY3RlZCc7CiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLmRhdGEydG9wID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgbG9hZE1vcmU6IGZ1bmN0aW9uIGxvYWRNb3JlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMubW9yZS5pbm5lclRleHQgPSAn5Yqg6L295LitJzsKCiAgICAgIGlmICh0aGlzLmN1cnJlbnRpbmRleCA9PT0gMCkgewogICAgICAgIHRoaXMubm93c3RhcnQgKz0gdGhpcy5jb3VudDsKICAgICAgICBnZXROb3dNb3ZpZUJ5Q291bnQodGhpcy5ub3dzdGFydCwgdGhpcy5jb3VudCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICB2YXIgX3RoaXMzJG5vd21vdmllbGlzdDsKCiAgICAgICAgICAoX3RoaXMzJG5vd21vdmllbGlzdCA9IF90aGlzMy5ub3dtb3ZpZWxpc3QpLnB1c2guYXBwbHkoX3RoaXMzJG5vd21vdmllbGlzdCwgX3RvQ29uc3VtYWJsZUFycmF5KHJlcy5kYXRhLnN1YmplY3RzKSk7CgogICAgICAgICAgY29uc29sZS5sb2coX3RoaXMzLm5vd21vdmllbGlzdCk7CiAgICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudG9wMjUwc3RhcnQgKz0gdGhpcy5jb3VudDsKICAgICAgICBnZXRUb3AyNTBCeUNvdW50KHRoaXMudG9wMjUwc3RhcnQsIHRoaXMuY291bnQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgdmFyIF90aGlzMyR0b3AyNTBtb3ZpZWxpczsKCiAgICAgICAgICAoX3RoaXMzJHRvcDI1MG1vdmllbGlzID0gX3RoaXMzLnRvcDI1MG1vdmllbGlzdCkucHVzaC5hcHBseShfdGhpczMkdG9wMjUwbW92aWVsaXMsIF90b0NvbnN1bWFibGVBcnJheShyZXMuZGF0YS5zdWJqZWN0cykpOwoKICAgICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICBnZXROb3dNb3ZpZUJ5Q291bnQodGhpcy5ub3dzdGFydCwgdGhpcy5jb3VudCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIGNvbnNvbGUubG9nKCd0aGlzIGlzIGdldG5vd21pZScpOyAvLyBjb25zb2xlLmxvZyh0eXBlb2YgcmVzLmRhdGEuc3ViamVjdHMpCgogICAgICBfdGhpczQubm93bW92aWVsaXN0ID0gcmVzLmRhdGEuc3ViamVjdHM7CiAgICAgIF90aGlzNC5sb2FkaW5nID0gZmFsc2U7IC8vIHRoaXMubm93c3RhcnQgKz0gMjAKICAgIH0pOwogICAgZ2V0VG9wMjUwQnlDb3VudCh0aGlzLnRvcDI1MHN0YXJ0LCB0aGlzLmNvdW50KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgLy8gY29uc29sZS5sb2coJ3RoaXMgaXMgMjUwbW92aWUnKQogICAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YS5zdWJqZWN0cykKICAgICAgX3RoaXM0LnRvcDI1MG1vdmllbGlzdCA9IHJlcy5kYXRhLnN1YmplY3RzOwogICAgICBfdGhpczQubG9hZGluZyA9IGZhbHNlOwogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICB9LAogIHVwZGF0ZWQ6IGZ1bmN0aW9uIHVwZGF0ZWQoKSB7CiAgICB0aGlzLiRyZWZzLm1vcmUuaW5uZXJUZXh0ID0gJ+WKoOi9veabtOWkmic7CiAgfQp9Ow=="},{"version":3,"sources":["Explore.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"explore\">\n    <h1>选电影</h1>\n    <span class=\"selected\" @click=\"data2nowdata()\" ref=\"shownow\">正在上映</span>\n    <span @click=\"data2topdata()\" ref=\"showtop\">Top250</span>\n    <div class=\"content\" v-loading=\"loading\">\n      <div class=\"nowmovie\" v-if=\"!data2top\">\n        <MovieList :movielist=\"nowmovielist\" />\n        <!-- <div class=\"movieitem\" v-for=\"(movie, index) in nowmovielist\" :key=\"index\">\n          <Slideitem2 :movieitem=\"movie\" />\n        </div> -->\n      </div>\n      <div class=\"top250\" v-else>\n        <MovieList :movielist=\"top250movielist\" />\n        <!-- <div class=\"movieitem\" v-for=\"(movie, index) in top250movielist\" :key=\"index\">\n          <Slideitem2 :movieitem=\"movie\" />\n        </div> -->\n      </div>\n    </div>\n    <div class=\"load-more\" @click=\"loadMore()\">\n      <p ref=\"more\"></p>\n    </div>\n  </div>\n</template>\n\n<script>\n// import Slideitem2 from '@/components/SlideItem2.vue'\nimport MovieList from '@/components/MovieList.vue'\n\nimport { getNowMovieByCount, getTop250ByCount } from '@/network/request'\n\nexport default {\n  name: 'explore',\n  components: {\n    // Slideitem2,\n    MovieList\n  },\n  data () {\n    return {\n      nowmovielist: [],\n      currentindex: 0, // 0: now, 1: top\n      top250movielist: [],\n      loading: false,\n      nowstart: 0,\n      top250start: 0,\n      count: 20,\n      data2top: false\n    }\n  },\n  methods: {\n    data2nowdata: function () {\n      this.currentindex = 0\n      this.$refs.shownow.className = 'selected'\n      this.$refs.showtop.className = 'temp'\n      this.$nextTick(() => (this.data2top = false))\n    },\n    data2topdata: function () {\n      this.currentindex = 1\n      this.$refs.shownow.className = 'temp'\n      this.$refs.showtop.className = 'selected'\n      this.$nextTick(() => (this.data2top = true))\n    },\n    loadMore: function () {\n      this.$refs.more.innerText = '加载中'\n      if (this.currentindex === 0) {\n        this.nowstart += this.count\n        getNowMovieByCount(this.nowstart, this.count).then(res => {\n          this.nowmovielist.push(...res.data.subjects)\n          console.log(this.nowmovielist)\n          this.loading = false\n        })\n      } else {\n        this.top250start += this.count\n        getTop250ByCount(this.top250start, this.count).then(res => {\n          this.top250movielist.push(...res.data.subjects)\n          this.loading = false\n        })\n      }\n    }\n  },\n  created () {\n    getNowMovieByCount(this.nowstart, this.count).then(res => {\n      console.log('this is getnowmie')\n      // console.log(typeof res.data.subjects)\n      this.nowmovielist = res.data.subjects\n      this.loading = false\n      // this.nowstart += 20\n    })\n    getTop250ByCount(this.top250start, this.count).then(res => {\n      // console.log('this is 250movie')\n      // console.log(res.data.subjects)\n      this.top250movielist = res.data.subjects\n      this.loading = false\n    })\n  },\n  mounted () {\n    this.loading = true\n  },\n  updated () {\n    this.$refs.more.innerText = '加载更多'\n  }\n}\n</script>\n\n<style scoped lang=\"less\" rel=\"stylesheet/less\">\n.explore {\n  width: 675px;\n  margin-left: 135px;\n  h1 {\n    color: #494949;\n    font-size: 26px;\n    margin-top: 30px;\n  }\n  span {\n    color: #666666;\n    margin: 20px 15px 20px 0;\n    cursor: pointer;\n  }\n  span:hover {\n    background-color: #e6e6e6;\n  }\n  .selected {\n    color: #fff;\n    background-color: #4b8ccb;\n  }\n  .selected:hover {\n    color: #fff;\n    background-color: #4b8ccb;\n  }\n  .content {\n    width: 100%;\n    margin-top: 20px;\n    padding-top: 20px;\n    border-top: 1px solid #dbdbdb;\n    // height: 999px;\n    // background-color: #494949;\n    // .movieitem {\n    //   margin-bottom: 15px;\n    // }\n    // .nowmovie,\n    // .top250 {\n    //   display: flex;\n    //   flex-direction: row;\n    //   flex-wrap: wrap;\n    //   justify-content: space-between;\n    // }\n  }\n  .load-more {\n    width: 100%;\n    height: 34px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #e6e6e6;\n    cursor: pointer;\n    p {\n      color: #3377aa;\n      font-size: 14px;\n    }\n  }\n  .load-more:hover {\n    background-color: #dbdbdb;\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}