{"remainingRequest":"/home/livio/Code/VueDemo/vue-test2/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/livio/Code/VueDemo/vue-test2/src/views/Explore.vue?vue&type=style&index=0&id=37a9cfc9&scoped=true&lang=less&rel=stylesheet%2Fless&","dependencies":[{"path":"/home/livio/Code/VueDemo/vue-test2/src/views/Explore.vue","mtime":1586764877488},{"path":"/home/livio/Code/VueDemo/vue-test2/node_modules/css-loader/dist/cjs.js","mtime":1586767577022},{"path":"/home/livio/Code/VueDemo/vue-test2/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1586767577967},{"path":"/home/livio/Code/VueDemo/vue-test2/node_modules/postcss-loader/src/index.js","mtime":1586767577868},{"path":"/home/livio/Code/VueDemo/vue-test2/node_modules/less-loader/dist/cjs.js","mtime":1586767589316},{"path":"/home/livio/Code/VueDemo/vue-test2/node_modules/cache-loader/dist/cjs.js","mtime":1586767566802},{"path":"/home/livio/Code/VueDemo/vue-test2/node_modules/vue-loader/lib/index.js","mtime":1586767577967}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmV4cGxvcmUgewogIHdpZHRoOiA2NzVweDsKICBtYXJnaW4tbGVmdDogMTM1cHg7CiAgaDEgewogICAgY29sb3I6ICM0OTQ5NDk7CiAgICBmb250LXNpemU6IDI2cHg7CiAgICBtYXJnaW4tdG9wOiAzMHB4OwogIH0KICBzcGFuIHsKICAgIGNvbG9yOiAjNjY2NjY2OwogICAgbWFyZ2luOiAyMHB4IDE1cHggMjBweCAwOwogICAgY3Vyc29yOiBwb2ludGVyOwogIH0KICBzcGFuOmhvdmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNlNmU2ZTY7CiAgfQogIC5zZWxlY3RlZCB7CiAgICBjb2xvcjogI2ZmZjsKICAgIGJhY2tncm91bmQtY29sb3I6ICM0YjhjY2I7CiAgfQogIC5zZWxlY3RlZDpob3ZlciB7CiAgICBjb2xvcjogI2ZmZjsKICAgIGJhY2tncm91bmQtY29sb3I6ICM0YjhjY2I7CiAgfQogIC5jb250ZW50IHsKICAgIHdpZHRoOiAxMDAlOwogICAgbWFyZ2luLXRvcDogMjBweDsKICAgIHBhZGRpbmctdG9wOiAyMHB4OwogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNkYmRiZGI7CiAgICAvLyBoZWlnaHQ6IDk5OXB4OwogICAgLy8gYmFja2dyb3VuZC1jb2xvcjogIzQ5NDk0OTsKICAgIC8vIC5tb3ZpZWl0ZW0gewogICAgLy8gICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgLy8gfQogICAgLy8gLm5vd21vdmllLAogICAgLy8gLnRvcDI1MCB7CiAgICAvLyAgIGRpc3BsYXk6IGZsZXg7CiAgICAvLyAgIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICAvLyAgIGZsZXgtd3JhcDogd3JhcDsKICAgIC8vICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgLy8gfQogIH0KICAubG9hZC1tb3JlIHsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiAzNHB4OwogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGJhY2tncm91bmQtY29sb3I6ICNlNmU2ZTY7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICBwIHsKICAgICAgY29sb3I6ICMzMzc3YWE7CiAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIH0KICB9CiAgLmxvYWQtbW9yZTpob3ZlciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGJkYmRiOwogIH0KfQo="},{"version":3,"sources":["Explore.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Explore.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"explore\">\n    <h1>选电影</h1>\n    <span class=\"selected\" @click=\"data2nowdata()\" ref=\"shownow\">正在上映</span>\n    <span @click=\"data2topdata()\" ref=\"showtop\">Top250</span>\n    <div class=\"content\" v-loading=\"loading\">\n      <div class=\"nowmovie\" v-if=\"!data2top\">\n        <MovieList :movielist=\"nowmovielist\" />\n        <!-- <div class=\"movieitem\" v-for=\"(movie, index) in nowmovielist\" :key=\"index\">\n          <Slideitem2 :movieitem=\"movie\" />\n        </div> -->\n      </div>\n      <div class=\"top250\" v-else>\n        <MovieList :movielist=\"top250movielist\" />\n        <!-- <div class=\"movieitem\" v-for=\"(movie, index) in top250movielist\" :key=\"index\">\n          <Slideitem2 :movieitem=\"movie\" />\n        </div> -->\n      </div>\n    </div>\n    <div class=\"load-more\" @click=\"loadMore()\">\n      <p ref=\"more\"></p>\n    </div>\n  </div>\n</template>\n\n<script>\n// import Slideitem2 from '@/components/SlideItem2.vue'\nimport MovieList from '@/components/MovieList.vue'\n\nimport { getNowMovieByCount, getTop250ByCount } from '@/network/request'\n\nexport default {\n  name: 'explore',\n  components: {\n    // Slideitem2,\n    MovieList\n  },\n  data () {\n    return {\n      nowmovielist: [],\n      currentindex: 0, // 0: now, 1: top\n      top250movielist: [],\n      loading: false,\n      nowstart: 0,\n      top250start: 0,\n      count: 20,\n      data2top: false\n    }\n  },\n  methods: {\n    data2nowdata: function () {\n      this.currentindex = 0\n      this.$refs.shownow.className = 'selected'\n      this.$refs.showtop.className = 'temp'\n      this.$nextTick(() => (this.data2top = false))\n    },\n    data2topdata: function () {\n      this.currentindex = 1\n      this.$refs.shownow.className = 'temp'\n      this.$refs.showtop.className = 'selected'\n      this.$nextTick(() => (this.data2top = true))\n    },\n    loadMore: function () {\n      this.$refs.more.innerText = '加载中'\n      if (this.currentindex === 0) {\n        this.nowstart += this.count\n        getNowMovieByCount(this.nowstart, this.count).then(res => {\n          this.nowmovielist.push(...res.data.subjects)\n          console.log(this.nowmovielist)\n          this.loading = false\n        })\n      } else {\n        this.top250start += this.count\n        getTop250ByCount(this.top250start, this.count).then(res => {\n          this.top250movielist.push(...res.data.subjects)\n          this.loading = false\n        })\n      }\n    }\n  },\n  created () {\n    getNowMovieByCount(this.nowstart, this.count).then(res => {\n      console.log('this is getnowmie')\n      // console.log(typeof res.data.subjects)\n      this.nowmovielist = res.data.subjects\n      this.loading = false\n      // this.nowstart += 20\n    })\n    getTop250ByCount(this.top250start, this.count).then(res => {\n      // console.log('this is 250movie')\n      // console.log(res.data.subjects)\n      this.top250movielist = res.data.subjects\n      this.loading = false\n    })\n  },\n  mounted () {\n    this.loading = true\n  },\n  updated () {\n    this.$refs.more.innerText = '加载更多'\n  }\n}\n</script>\n\n<style scoped lang=\"less\" rel=\"stylesheet/less\">\n.explore {\n  width: 675px;\n  margin-left: 135px;\n  h1 {\n    color: #494949;\n    font-size: 26px;\n    margin-top: 30px;\n  }\n  span {\n    color: #666666;\n    margin: 20px 15px 20px 0;\n    cursor: pointer;\n  }\n  span:hover {\n    background-color: #e6e6e6;\n  }\n  .selected {\n    color: #fff;\n    background-color: #4b8ccb;\n  }\n  .selected:hover {\n    color: #fff;\n    background-color: #4b8ccb;\n  }\n  .content {\n    width: 100%;\n    margin-top: 20px;\n    padding-top: 20px;\n    border-top: 1px solid #dbdbdb;\n    // height: 999px;\n    // background-color: #494949;\n    // .movieitem {\n    //   margin-bottom: 15px;\n    // }\n    // .nowmovie,\n    // .top250 {\n    //   display: flex;\n    //   flex-direction: row;\n    //   flex-wrap: wrap;\n    //   justify-content: space-between;\n    // }\n  }\n  .load-more {\n    width: 100%;\n    height: 34px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #e6e6e6;\n    cursor: pointer;\n    p {\n      color: #3377aa;\n      font-size: 14px;\n    }\n  }\n  .load-more:hover {\n    background-color: #dbdbdb;\n  }\n}\n</style>\n"]}]}